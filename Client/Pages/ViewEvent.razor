@page "/eveniment/{EventId}"
@inject IEventService _evnetService
@inject NavigationManager Navigation

@using CMVMD.Client.Services
@using CMVMD.Client.Services.Article
@using CMVMD.Shared.Models

@if (eventObj != null)
{
    <div class="content-container">
    @if (eventObj.File != null)
        {
            <img src="@eventObj.File.FileUrl" class="article-image" alt="Article Image" />
        }

        <RadzenText TextStyle="TextStyle.H4" FontWeight="700" style="margin-top: 2rem; margin-bottom: 1rem;"
            Color="#333333">
            @eventObj.Title
        </RadzenText>

        <RadzenText TextStyle="TextStyle.H5" FontWeight="400" Color="#6c757d" class="subtitle">
            @eventObj.SubTitle
        </RadzenText>

        <div class="article-text">
            <RadzenText TextStyle="TextStyle.Body1" FontWeight="400" Color="#212529">
                @((MarkupString)eventObj.Text)
            </RadzenText>
        </div>

        <div class="back-button">
            <RadzenButton Text="ÃŽnapoi" Icon="arrow_back" ButtonStyle="ButtonStyle.Secondary"
                Click="@(args => Navigation.NavigateTo("/"))" />
        </div>
    </div>
}
else
{
    <div class="container">
    <RadzenCard>
        <RadzenText Text="Loading..." />
    </RadzenCard>
</div>
}

@code {
    [Parameter]
    public string EventId { get; set; } = default!;

    private EventDto? eventObj { get; set; }

    protected override async Task OnInitializedAsync()
    {
        eventObj = await _evnetService.GetByIdAsync(EventId);
    }
}
